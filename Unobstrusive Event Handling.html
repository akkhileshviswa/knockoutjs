<!DOCTYPE html>
    <head>
        <script src="knockoutjs-v-3.5.1.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <style>
            .selected{
                color:red;
            }
        </style>
        <script>
            $(document).ready(function(){
                //$(".delete").click(function(){
                $(document).on("click","delete",function(){
                    var account = ko.dataFor(this);
                    var context = ko.contextFor(this);
                    alert(context.$parent.Accounts().length);
                    myViewModel.Accounts.remove(account);
                    alert(context.$parent.Accounts().length);
                })
            })
        </script>
    </head>
    <body>
        <input type="checkbox" name="name" data-bind="checked: ShowHiddenSection">Show/hide
        <div id="div1" data-bind="if: ShowHiddenSection">
            This is a hidden section
        </div>
        <div id="div2" data-bind="visible: ShowHiddenSection">
            This is a visible section
        </div>
        <hr>
        <div>
            City: <span data-bind="text:City"></span><br>
            <span data-bind="with: Phone">
                Home: <span data-bind="text:Home"></span><br>
                Office: <span data-bind="text:Office"></span><br>
            </span>
        </div>
        <hr>
        <ul data-bind="foreach:Colors">
            <li data-bind="text:$data"></li>
        </ul>
        <button onclick="alert(document.getElementById('div1').innerHTML)">Div1</button>
        <button onclick="alert(document.getElementById('div2').innerHTML)">Div2</button>
        <ul>
            <li>Always Appear</li>
            <!--ko if: ShowHiddenSection-->
            <li>Dynamically appear or hide</li>
            <!--/ko-->
        </ul>
        <hr>
        <table data-bind="foreach:{data:Accounts,as:'Account'}">
            <tr style="cursor:pointer" data-bind="click:$parent.SelectAccount, css: {selected:(Account.Id == ($parent.SelectedAccount() == null?-1:$parent.SelectedAccount().Id))}">
                <td data-bind="text:($index()+1)+'/'+$parent.Count()"></td>
                <td data-bind="text:Account.Id"></td>
                <td data-bind="text:Account.Name"></td>
                <td data-bind="text:Account.Balance"></td>
                <td><button data-bind="click:$parent.SelectAccount, clickBubble:false">Select</button></td>
                <td><button data-bind="click:$parent.DeleteAccount, clickBubble:false">Delete</button></td>
                <td><button class="delete">Delete(Unobstrusive)</button></td>
            </tr>
        </table>
        <input type="text" data-bind="value:AmountToTransact">
        <button data-bind="click:Deposit, enable: SelectedAccount()!=null">Deposit</button>
        <button data-bind="click:function(data){Withdraw(500)}, enable: SelectedAccount()!=null">Withdraw</button>
        <hr>
        <div id="divbox" data-bind="event: {mouseover: enableDetails, mouseout: disableDetails}">
            This div..
        </div>
        <hr>
        <input type="text" data-bind="textInput:ex1">
        <input type="text" data-bind="value:ex2">
        <br>
        <span data-bind="text:(ex1()+' '+ex2())"></span><br>
        <input id="T1" data-bind="textInput:ex2, hasfocus:T1hasfocus">        
        <input type="button" data-bind="click:SetFocus" value="Set Focus"><br><hr> 
        <input type="checkbox" value="1" data-bind="checked:DemoArrayFiltered">1
        <input type="checkbox" value="2" data-bind="checked:DemoArrayFiltered">2
        <input type="checkbox" value="3" data-bind="checked:DemoArrayFiltered">3
        <input type="checkbox" value="4" data-bind="checked:DemoArrayFiltered">4
        <input type="checkbox" value="5" data-bind="checked:DemoArrayFiltered">5
        <input type="checkbox" value="6" data-bind="checked:DemoArrayFiltered">6
        <input type="checkbox" value="7" data-bind="checked:DemoArrayFiltered">7<br>
        <select size="4" multiple="multiple" data-bind="options: DemoArray, selectedOptions:DemoArrayFiltered"></select>
        <input type="button" onclick="alert(myViewModel.DemoArray().join(''))">Show Array<br>
        <script>
            function account(id,name,balance){
                this.Id = id;
                this.Name = name;
                this.Balance = ko.observable(balance);
            }
            var myViewModel = new function() {
                this.City = ko.observable("Gobi");
                this.Phone = {Home:786, Office:234};
                this.ShowHiddenSection = ko.observable(true);
                this.Colors = ko.observableArray(["Red","Blue","Pink"]);
                this.Accounts = ko.observableArray([
                new account(11,"ak",10000),
                new account(12,"v",20000),
                new account(13,"aki",30000),
                ]);
                this.Count = ko.computed(function(){
                    return this.Accounts().length;
                },this);
                var current = this;
                this.SelectedAccount=ko.observable(null);
                this.SelectAccount=function(account) {
                    current.SelectedAccount(account);
                    //alert(account.Name);
                };
                this.AmountToTransact = ko.observable(0);
                this.Deposit = function(){
                    this.SelectedAccount().Balance(this.SelectedAccount().Balance() + Number(this.AmountToTransact()));
                    //alert("Deposited");
                };
                this.Withdraw = function(minAmount) {
                    if(this.SelectedAccount().Balance()-this.AmountToTransact() < minAmount)
                        alert("Insufficient Balance");
                    else
                        this.SelectedAccount().Balance(this.SelectedAccount().Balance() - Number(this.AmountToTransact()));
                };
                this.enableDetails = function() {
                    $("#divbox").css("border","1px solid red")
                };
                this.disableDetails = function() {
                    $("#divbox").css("border","0px solid red")
                };
                this.DeleteAccount = function(account) {
                    if(current.SelectedAccount()==account)
                        current.SelectedAccount(null);
                    current.Accounts.remove(account);
                };
                this.ex1 = ko.observable("ask");
                this.ex2 = ko.observable("ds");
                this.T1hasfocus = ko.observable(false);
                this.SetFocus = function()
                {
                    this.T1hasfocus(true);
                };
                this.DemoArray = ko.observableArray(["1","2","3","4","5","6","7"]);
                this.DemoArrayFiltered = ko.observableArray(["1","2","7"]);
            }
            ko.applyBindings(myViewModel);
        </script>
    </body>
</html>